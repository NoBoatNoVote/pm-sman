<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WE ARE SHEIKH HASINA'S MAN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', Kalpurush; sans-serif;
            background-color: #450a0a;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            color: #fef2f2;
        }

        .floating-text {
            animation: float 7s ease-in-out infinite;
            text-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-30px); }
        }

        .custom-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 4px;
            background: #991b1b;
            border-radius: 5px;
            outline: none;
            flex-grow: 1;
        }

        .custom-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: #f87171;
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid #ffffff;
            transition: 0.2s;
        }

        .step-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.2s;
            user-select: none;
        }

        .step-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            scale: 1.1;
        }

        .step-btn:active {
            scale: 0.9;
        }

        #canvas-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            aspect-ratio: 1/1;
            background: #000;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
            overflow: hidden;
            border-radius: 20px;
            margin: 0 auto;
            cursor: move;
            touch-action: none;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        main {
            flex: 1;
        }

        .text-gradient {
            background: linear-gradient(to bottom right, #fecaca, #ef4444);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .download-btn {
            background: transparent;
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .download-btn:not(:disabled):hover {
            background: #ffffff;
            color: #450a0a;
            border-color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .value-badge {
            background: rgba(248, 113, 113, 0.2);
            color: #fca5a5;
            padding: 2px 8px;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .hidden-controls {
            display: none;
        }

        /* alert box */
        #custom-alert {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
    </style>
</head>
<body>

    <header class="w-full bg-black/20 backdrop-blur-md border-b border-red-900/50 px-6 py-5">
        <div class="container mx-auto flex justify-between items-center">
            <span class="text-1xl font-black text-white tracking-tighter uppercase">Joy Bangla</span>
			<svg viewBox="0 0 24 14" class="w-100% h-7 fill-current text-[#ffffff]" xmlns="http://www.w3.org/2000/2000/svg">
        			<path d="M14.76,13.44c-.21-.02-.72-.07-1.13-.11-.41-.04-1.09-.1-1.51-.13-.75-.05-.78-.05-1.44.07-.37.07-.89.14-1.15.15-.52.03-.71-.01-1.58-.32-.73-.26-1.4-.25-2.57.03-1.13.27-1.57.26-2.69-.08-.61-.18-.93-.25-1.41-.31-.15-.02-.28-.07-.38-.15-.15-.12-.15-.13-.13-.46.01-.2,0-.37-.03-.42-.08-.12.08-.28.28-.28.1,0,.19-.04.27-.12l.11-.12h-.3c-.17,0-.43.04-.61.1-.34.11-.46.09-.49-.09-.04-.25.57-.46,1.3-.44h.47s.69-.77.69-.77c.38-.43.69-.8.69-.82s-.04-.08-.1-.13c-.05-.05-.09-.09-.08-.1,0,0-.05-.09-.13-.18-.17-.18-.85-1.04-1.74-2.22-.65-.85-.75-1.05-.67-1.28.04-.13.3-.33.43-.33.04,0,.53.39,1.1.87,1.4,1.18,2.29,1.89,2.38,1.89.07,0,1.42-1.57,1.42-1.65,0-.02-.06-.11-.12-.19l-.12-.15h.35s.35-.03.35-.03l.75-.99c1.83-2.42,1.8-2.38,1.99-2.33.17.04.24.19.17.33-.06.11-.67.84-1.93,2.32l-.7.82v.3c0,.17-.02.3-.03.3s-.08-.04-.15-.08c-.12-.08-.13-.08-.31.13-.27.3-1.19,1.52-1.19,1.58,0,.1,1.3.91,1.7,1.06l.11.04v-.51c.02-1.63.5-2.88,1.36-3.59.45-.37.59-.4,2.3-.51,1.96-.12,4.29-.1,4.96.04l.42.09v.08V0h.29v4.89l.17.1.17.1v-.12c0-4.23,0-4.97.09-4.97s.09.75.12,5.06l.03.2.33.34c.41.41.58.65.82,1.13.29.58.4,1.04.4,1.63,0,.34-.03.57-.08.71l-.08.2.17-.07c.19-.08,1.62-.81,3.72-1.9.76-.39,1.4-.71,1.43-.71.07,0,.25.28.25.4,0,.05-.12.22-.28.38-.58.61-3.02,2.64-3.81,3.17l-.38.25.78.16c1.03.22,1.87.24,2.92.06.59-.1.72-.11.78-.05.11.09.07.25-.07.32-.28.13-1.31.27-2.07.27-.67,0-.82-.01-1.59-.17-1.02-.21-1.44-.26-1.7-.18-.11.03-.47.08-.81.1-.37.03-.8.09-1.06.16-.38.1-1.21.21-1.42.19-.04,0-.18.02-.32.06-.69.18-1.3.14-2.15-.15-.97-.33-1.53-.31-2.29.05-.58.28-1.05.36-1.64.28-.44-.06-1.13-.31-1.11-.39,0-.03,0-.04-.03-.03s-.21-.03-.42-.1c-.28-.1-.48-.13-.78-.13-.45,0-.66.05-1.02.27-.22.13-.28.15-.7.17-.43.02-.84-.04-1.51-.21-.12-.03-.14-.01-.24.19-.06.12-.09.23-.08.25.01.01.21.06.43.1.63.12,1.36.07,2.11-.15,1.21-.34,1.55-.33,2.86.1,1.02.34,1.27.35,2.21.11.88-.22,1.51-.22,3.24.03,1.57.23,1.79.22,2.62-.07.47-.16.66-.21,1.03-.23.44-.02.47-.02.82.13.29.13.44.16.79.18.4.02.47,0,.96-.15.74-.24.88-.25,1.38-.13.86.22,1.57.22,2.33,0,.19-.05.39-.1.44-.1.13,0,.21.12.18.25-.02.09-.1.13-.5.25-.44.13-.52.14-1.26.14-.68,0-.84-.02-1.16-.11-.49-.14-.63-.14-1.21.06-.81.28-1.45.28-2.08,0-.41-.19-.89-.15-1.7.13-.58.2-.62.21-1.18.21-.4,0-.9-.05-1.63-.16-1.5-.23-2.16-.23-3.05,0-.59.15-.69.16-1.15.14-.45-.02-.58-.05-1.2-.27-1.15-.4-1.54-.42-2.61-.1-.27.08-.65.17-.84.2-.45.07-1.26.03-1.71-.09-.34-.09-.34-.09-.38,0-.04.09,0,.11.52.27,1.05.33,1.48.34,2.54.08,1.3-.32,2.06-.3,3.03.06.52.2.55.2,1.09.2.39,0,.71-.04,1.08-.12.76-.16,1.75-.13,4.29.14.51.06.52.05,1.26-.2.72-.25,1-.26,1.65-.05.27.09.57.15.71.15s.57-.07.97-.16c1-.23,1.1-.24,1.57-.15,1.01.19,1.13.19,1.9.08,1.05-.15,1.19-.14,1.16.11-.02.17-.04.18-1.11.31l-.86.11-.78-.13c-.87-.15-.81-.15-2.07.14-.71.16-.97.16-1.55-.03-.63-.2-.82-.2-1.53.04-.66.22-.82.25-1.34.2h0ZM4.91,11.07l.28-.16-.16-.08c-.29-.15-.84-.54-1.12-.79-.16-.14-.29-.23-.32-.21-.08.09-.69,1.18-.66,1.2.07.07.89.21,1.26.21.41,0,.45,0,.71-.16h0ZM10.26,9.62c-.02-.1-.04-.27-.04-.38v-.2h-.29c-.16,0-.29.02-.29.04,0,.18.12.62.18.67.04.03.17.06.28.06h.2l-.04-.18h0ZM10.75,9.66c.13-.18.3-.57.25-.6-.02,0-.15-.02-.29-.03h-.26s.03.27.03.27c.07.55.1.59.26.36h0ZM9.46,9.53c-.03-.1-.05-.25-.05-.34v-.16h-.32c-.28,0-.31.01-.29.08.01.05.04.19.05.31.03.21.04.23.18.25.2.03.44.06.46.04,0,0,0-.09-.04-.19h0ZM12.15,9.68s.01-.1,0-.19l-.02-.17h-.46s-.46,0-.46,0l-.08.19-.08.19h.54c.3,0,.55-.01.56-.02h0ZM13.82,9.51v-.14h-.3c-.17,0-.48-.01-.7-.03l-.4-.03v.19s0,.19,0,.19h.7s.7-.03.7-.03v-.14h0ZM8.57,9.43c-.02-.1-.03-.23-.03-.29,0-.1-.02-.11-.31-.11-.31,0-.31,0-.31.13,0,.28.04.33.3.38.4.08.38.08.35-.12h0ZM15.23,9.58c.13-.02.18-.05.18-.12,0-.08-.05-.09-.65-.09h-.65v.12q0,.12.47.12c.26,0,.55-.01.65-.03h0ZM16.5,9.51c.14,0,.26-.02.26-.05,0-.03-.21-.05-.54-.05-.47,0-.54.01-.54.08s.04.07.29.05c.16-.02.4-.03.54-.03h0ZM17.17,9.43s-.11-.01-.14,0c-.03.01,0,.02.08.02s.11-.01.06-.02h0ZM7.68,9.22v-.19h-.41c-.4,0-.41,0-.4.11.01.09.07.12.33.19.47.12.48.12.48-.1h0ZM16.71,8.79c0-.2-.02-.36-.02-.36,0,0-.24-.02-.52-.04l-.52-.03v.76l.47.02c.26,0,.5.01.54.01.06,0,.07-.07.05-.36h0ZM17.72,9.02c.02-.07.05-.24.07-.37l.03-.24h-.89l.03.15c.02.08.03.26.03.39v.24h.34c.33-.03.35-.03.38-.16h0ZM15.41,8.92c0-.11-.01-.29-.03-.38l-.03-.18h-.65s-.65,0-.65,0l.02.36c.01.29.03.36.1.38.04.01.35.02.67.03h.59s0-.2,0-.2h0ZM12.12,8.79c-.02-.16-.03-.34-.03-.38,0-.07-.05-.09-.36-.1l-.36-.02v.22c0,.12-.01.29-.03.37-.03.16-.09.14.6.19h.21s-.03-.28-.03-.28h0ZM13.8,8.73c-.02-.19-.04-.36-.06-.37-.01-.01-.34-.03-.72-.04l-.7-.02.03.11c.02.06.03.24.03.39v.28h1.45l-.03-.35h0ZM7.68,8.69c0-.09-.03-.1-.41-.1s-.41,0-.41.1.03.1.41.1.41,0,.41-.1ZM8.54,8.69c0-.09-.03-.1-.31-.1s-.31,0-.31.1.03.1.31.1.31,0,.31-.1ZM9.37,8.69c-.02-.08-.07-.1-.31-.1s-.28.01-.28.1.03.1.31.1.31,0,.28-.1ZM10.22,8.69c0-.09-.03-.1-.29-.1s-.29.01-.29.1.03.1.29.1.29-.01.29-.1ZM11.09,8.69c0-.09-.03-.1-.29-.1s-.29.01-.29.1.03.1.29.1.29-.01.29-.1ZM9.43,8.22c.02-.07.04-.16.05-.21.02-.07-.01-.08-.26-.08h-.29l-.05.18c-.03.1-.05.19-.05.2,0,.01.13.03.29.03.27,0,.29,0,.31-.12h0ZM10.35,8.17l.05-.19h-.33c-.3,0-.33,0-.35.11-.07.26-.05.28.28.28h.31l.05-.19h0ZM11.13,8.19v-.17h-.23c-.22,0-.23,0-.28.17l-.05.17h.57v-.17ZM7.69,8.11c.01-.11.02-.21,0-.22,0,0-.19-.03-.4-.04l-.39-.03v.49h.76l.02-.2h0ZM8.6,8.13c.04-.22,0-.25-.36-.25h-.28s0,.22,0,.22v.22h.61l.03-.18h0ZM17.79,8.02c-.02-.08-.03-.17-.03-.19s-.2-.04-.45-.04h-.45l.02.17c.02.19.05.2.63.21h.31s-.03-.14-.03-.14h0ZM15.34,8.04s-.03-.13-.03-.19c0-.11,0-.11-.66-.13-.36,0-.67-.01-.68,0,0,0,0,.08.02.18l.03.17.37.02c.95.04.98.04.95-.04h0ZM16.63,7.99c-.02-.07-.04-.16-.05-.19-.01-.04-.16-.06-.53-.06-.45,0-.51,0-.48.08.02.04.03.13.03.19,0,.12,0,.12.53.12h.53l-.03-.13h0ZM13.72,7.89v-.18s-.74-.01-.74-.01h-.73s.02.12.02.12c.01.07.03.16.04.19.01.04.2.06.72.06h.7v-.18s-.01,0-.01,0ZM12.02,7.87c-.02-.09-.04-.16-.04-.16,0,0-.15-.02-.33-.03l-.33-.02.03.14c.02.08.03.16.03.18s.15.04.34.04h.34l-.03-.16h0ZM10.58,7.59c.07-.14.07-.14-.08-.17-.3-.06-.51-.03-.57.06-.1.19-.05.22.37.24.18,0,.21-.01.27-.13h0ZM11.03,7.61c0-.07-.04-.14-.08-.15-.03-.01-.06,0-.05.02,0,.02-.02.09-.05.15-.06.1-.05.11.07.11.11,0,.12-.02.11-.13h0ZM9.63,7.55c.05-.13.05-.14-.09-.17-.28-.06-.37-.03-.44.11-.04.08-.07.15-.07.17s.12.03.28.03c.26,0,.28,0,.33-.14h0ZM8.8,7.51c.02-.07.03-.13.02-.14,0,0-.18-.03-.39-.05-.3-.03-.37-.02-.37.03,0,.04-.01.11-.03.17-.03.11-.02.11.36.11s.39,0,.42-.13h0ZM7.79,7.46c.01-.07.02-.14.02-.14,0,0-.19-.02-.4-.04-.38-.03-.39-.03-.39.07,0,.05-.01.13-.03.17-.03.07.03.08.38.08.41,0,.41,0,.43-.13h0ZM16.51,7.45s-.01-.11-.03-.19l-.03-.15h-.5c-.5,0-.5,0-.47.11.02.06.03.15.03.19,0,.07.06.08.5.08.28,0,.5-.02.5-.04h0ZM17.66,7.45s-.02-.11-.05-.19l-.05-.15h-.84l.05.19.05.19h.43c.23,0,.43-.02.43-.04h0ZM13.63,7.36c0-.28,0-.28-.75-.32-.39-.02-.71-.02-.72-.01-.01.01,0,.1.01.19.03.17.04.17.28.19.14,0,.46.02.72.03.42,0,.47,0,.47-.08h0ZM15.24,7.39s-.03-.12-.05-.19l-.03-.13h-.65c-.7,0-.69,0-.62.28.03.11.04.11.69.11.51,0,.66-.01.65-.06h0ZM11.89,7.21l-.05-.19h-.7l.05.19.05.19h.7l-.05-.19ZM10.89,7.13s-.04-.1-.08-.19c-.07-.14-.11-.17-.24-.17-.12,0-.18.04-.28.16-.07.09-.12.17-.12.19s.16.03.36.03.36-.01.36-.02h0ZM9.15,6.71s-.23-.04-.45-.04h-.4s-.07.17-.07.17c-.04.1-.07.18-.07.19s.19.02.42.03h.42s.1-.15.1-.15c.08-.12.09-.18.05-.2h0ZM9.97,6.94c.12-.19.09-.22-.22-.22-.15,0-.2.03-.31.16-.07.09-.13.18-.13.19s.12.03.28.03c.26,0,.28,0,.38-.16h0ZM7.95,6.84c.03-.1.05-.18.04-.19,0,0-.19-.02-.4-.03l-.39-.03-.05.18c-.03.1-.05.19-.05.21s.18.03.4.03h.4l.05-.18h0ZM17.42,6.85s-.04-.1-.08-.19c-.06-.13-.11-.17-.2-.17-.07,0-.24-.01-.38-.03-.28-.03-.29-.02-.18.23l.07.17h.39c.21.01.39,0,.39,0ZM15.04,6.64l-.07-.19-.44-.03c-.24-.02-.54-.03-.66-.03h-.23l.07.19c.09.22.1.22.91.23h.49s-.07-.18-.07-.18h0ZM16.32,6.78s-.02-.11-.05-.19l-.05-.15h-.48c-.26,0-.48.01-.48.03s.03.1.06.19l.06.16h.47c.26,0,.47-.02.47-.04h0ZM11.73,6.66c-.11-.34-.08-.32-.52-.32h-.41l.1.19c.1.2.12.21.69.23.17,0,.18,0,.15-.1h0ZM13.47,6.7s-.04-.13-.06-.19l-.03-.12h-1.44l.03.16c.02.09.04.17.05.19.01.02.35.04.74.04.64,0,.72,0,.69-.08h0ZM10.41,6.41c.09-.11.02-.17-.21-.17-.16,0-.23.03-.32.12l-.11.12h.29c.2,0,.31-.02.35-.07ZM9.57,6.33l.08-.11-.43-.03c-.24-.02-.45-.04-.48-.06-.05-.03-.25.15-.25.22,0,.05.17.08.61.08.36,0,.4,0,.47-.1h0ZM8.24,6.27c.03-.06.04-.13.02-.14-.02-.02-.21-.03-.43-.03-.34,0-.41.01-.45.09-.07.14-.07.14.18.16.58.05.62.04.67-.08h0ZM16.08,6.15s-.03-.1-.06-.17c-.05-.12-.07-.12-.55-.12h-.5l.07.14c.06.12.1.14.33.16.52.04.71.03.71-.01h0ZM16.91,6.03c-.12-.15-.16-.17-.39-.17-.14,0-.25,0-.25.02s.02.08.05.17c.05.15.06.15.39.15h.33l-.13-.17h0ZM13.24,6.04c-.03-.21-.09-.23-.83-.23-.38,0-.7,0-.7.02s.02.08.05.14c.05.12.05.12.68.14.35,0,.68.02.73.03.06,0,.08-.02.07-.1h0ZM14.76,6.01c-.08-.16-.16-.17-.91-.19-.4-.01-.42,0-.39.08.02.05.05.12.06.17.02.07.1.08.67.08h.64l-.07-.14h0ZM11.52,6.07c0-.05-.11-.24-.16-.27-.03-.02-.26-.04-.52-.04h-.47s.13.17.13.17l.13.17h.45c.25,0,.45-.01.45-.03h0ZM10.05,5.88c.08-.06.08-.07.01-.07-.05,0-.09-.03-.11-.06-.02-.04-.16-.06-.42-.07-.35-.01-.41,0-.54.1l-.14.11.26.03c.51.05.84.04.93-.03h0ZM8.64,5.74l.14-.12-.28-.03c-.15-.02-.37-.04-.48-.05-.18-.02-.21-.01-.3.12l-.1.14.11.02c.06.01.26.02.44.03.28,0,.35,0,.47-.11h0ZM16.5,5.59c-.09-.09-.54-.4-.55-.39-.01.01.03.11.08.22.09.18.11.2.3.2.11,0,.19-.01.17-.03h0ZM13.01,5.54s-.33-.65-.4-.75c-.06-.08-.13-.08-.79-.05l-.72.03.15.23c.09.12.18.29.22.38l.06.15h.66c.36.02.69.03.74.04.05,0,.08,0,.08-.02h0ZM14.35,5.3c-.11-.15-.26-.35-.34-.43l-.14-.16h-1.01l.14.24c.08.13.14.26.14.28,0,.02.04.1.1.19l.1.16h1.21l-.19-.28h0ZM15.79,5.54s-.08-.17-.17-.33c-.17-.3-.18-.31-.42-.35-.14-.03-.4-.06-.57-.08l-.32-.03.27.41.27.41h.47c.26,0,.47-.01.47-.03h0ZM11.23,5.48s-.09-.18-.21-.35l-.21-.3h-.6c-.33.02-.67.04-.76.05l-.16.03.22.14c.12.08.22.16.22.19s.02.04.04.03c.02-.01.1.04.18.12.14.14.14.14.7.14.32,0,.57-.02.57-.04h0ZM9.26,5.31q.12-.06-.14-.22c-.31-.18-.48-.17-.8.04l-.22.14.16.03c.16.03.45.05.74.07.08,0,.2-.02.26-.06h0Z"/>
    			</svg>
            <span class="text-1xl font-black text-white tracking-tighter uppercase">Joy Bangabandhu</span>
        </div>
    </header>

    <main class="flex items-center justify-center p-6 py-16">
        <div class="container mx-auto flex flex-col lg:flex-row items-center justify-between gap-16">
            
            <div class="lg:w-1/2 w-full text-center lg:text-left">
                <h1 class="floating-text text-6xl md:text-8xl font-black leading-none tracking-tight text-white mb-6">
                    WE ARE <br> 
                    <span class="text-gradient">SHEIKH HASINA'S</span> <br> 
                    MAN
                </h1>
                <div class="h-1 w-32 bg-red-600 mx-auto lg:mx-0 rounded-full mb-6"></div>
            </div>

            <div class="lg:w-1/2 w-full max-w-lg glass-panel p-8 rounded-[2rem] shadow-2xl">
                
                <div id="canvas-container" class="mb-8 border border-white/10">
                    <canvas id="photoCanvas"></canvas>
                    <div id="placeholder-text" class="absolute inset-0 flex flex-col items-center justify-center text-red-100/30 font-medium pointer-events-none">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mb-2 opacity-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                        </svg>
                        
                    </div>
                </div>

                <div class="space-y-6">
                    <input type="file" id="upload" accept="image/*" class="hidden">
                    <button onclick="document.getElementById('upload').click()" class="w-full bg-red-600 hover:bg-red-500 text-white font-bold py-5 rounded-2xl transition-all shadow-[0_10px_20px_rgba(220,38,38,0.3)] active:scale-95 flex items-center justify-center gap-3 text-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
                        </svg>
                        গ্যালারি থেকে ছবি নিন
                    </button>

                    <div id="controls-panel" class="space-y-5 bg-black/20 p-6 rounded-2xl border border-white/5 hidden-controls">
                        <div>
                            <div class="flex justify-between items-center mb-3 px-1">
                                <label class="text-xs font-bold uppercase tracking-widest text-red-300">জুম কন্ট্রোল</label>
                                <span id="zoomPercent" class="value-badge">১০০%</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <button onclick="adjust('zoom', -0.05)" class="step-btn">-</button>
                                <input type="range" id="zoom" min="0.1" max="5" step="0.01" value="1" class="custom-slider">
                                <button onclick="adjust('zoom', 0.05)" class="step-btn">+</button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="text-xs font-bold uppercase tracking-widest text-red-300 block mb-3 text-center">ডানে-বামে সরান</label>
                            <div class="flex items-center gap-3">
                                <button onclick="adjust('posX', -10)" class="step-btn">-</button>
                                <input type="range" id="posX" min="-1000" max="1000" value="0" class="custom-slider">
                                <button onclick="adjust('posX', 10)" class="step-btn">+</button>
                            </div>
                        </div>

                        <div>
                            <label class="text-xs font-bold uppercase tracking-widest text-red-300 block mb-3 text-center">উপরে-নিচে সরান</label>
                            <div class="flex items-center gap-3">
                                <button onclick="adjust('posY', -10)" class="step-btn">-</button>
                                <input type="range" id="posY" min="-1000" max="1000" value="0" class="custom-slider">
                                <button onclick="adjust('posY', 10)" class="step-btn">+</button>
                            </div>
                        </div>
                    </div>

                    <button id="downloadBtn" class="download-btn w-full mt-2 font-black py-5 rounded-2xl disabled:opacity-20 disabled:cursor-not-allowed hidden-controls items-center justify-center gap-3 text-lg uppercase tracking-wider">
                        <span>ডাউনলোড করুন</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <footer class="w-full bg-black/30 py-8 border-t border-red-900/30 mt-auto">
        <div class="container mx-auto text-center">
            <p class="text-red-200/50 font-medium tracking-widest uppercase text-xs">
                Made with <span class="text-red-600 animate-pulse">❤️</span> from <a target="blank" href="https://www.facebook.com/AntiBDAwamiLeagueABAL">Pro ALBD</a>.
            </p>
        </div>
    </footer>
	
	<!-- FB Browser Alert -->
    <div id="custom-alert">
        <div class="bg-white text-black p-6 rounded-2xl max-w-sm w-full text-center space-y-4">
            <h3 class="font-bold text-xl">ডাউনলোড সমস্যা?</h3>
            <p class="text-sm text-gray-600">ফেসবুক ব্রাউজারে ডাউনলোড না হলে, উপরে ডানে থাকা তিন ডট (⋮) মেনুতে ক্লিক করে "Open in Browser" বা "Chrome-এ ওপেন করুন" সিলেক্ট করুন।</p>
            <button onclick="document.getElementById('custom-alert').style.display='none'" class="w-full bg-red-600 text-white py-3 rounded-xl font-bold">বুঝেছি</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('photoCanvas');
        const ctx = canvas.getContext('2d');
        const container = document.getElementById('canvas-container');
        const upload = document.getElementById('upload');
        const zoomInput = document.getElementById('zoom');
        const zoomPercent = document.getElementById('zoomPercent');
        const posXInput = document.getElementById('posX');
        const posYInput = document.getElementById('posY');
        const downloadBtn = document.getElementById('downloadBtn');
        const placeholder = document.getElementById('placeholder-text');
        const controlsPanel = document.getElementById('controls-panel');
        const customAlert = document.getElementById('custom-alert');

        const FRAME_URL = 'sheikh-hasinas-man.png'; 
        
        let userImg = new Image();
        let frameImg = new Image();
        let isUserImageLoaded = false;
        let isFrameLoaded = false;
        let baseFitScale = 1;

        let isDragging = false;
        let startX, startY;

        canvas.width = 2048;
        canvas.height = 2048;

        frameImg.crossOrigin = "anonymous";
        frameImg.onload = () => {
            isFrameLoaded = true;
            drawCanvas();
        };
        frameImg.src = FRAME_URL;

        const toBengaliNumber = (num) => {
            const bengaliDigits = ['০', '১', '২', '৩', '৪', '৫', '৬', '৭', '৮', '৯'];
            return num.toString().replace(/\d/g, d => bengaliDigits[d]);
        };

        window.adjust = (id, amount) => {
            const el = document.getElementById(id);
            const newVal = parseFloat(el.value) + amount;
            if (newVal >= el.min && newVal <= el.max) {
                el.value = newVal;
                drawCanvas();
            }
        };

        const startDrag = (e) => {
            if (!isUserImageLoaded) return;
            isDragging = true;
            const pos = getPos(e);
            startX = pos.x;
            startY = pos.y;
        };

        const moveDrag = (e) => {
            if (!isDragging) return;
            const pos = getPos(e);
            const rect = canvas.getBoundingClientRect();
            const scale = canvas.width / rect.width;
            
            const dx = (pos.x - startX) * scale;
            const dy = (pos.y - startY) * scale;

            posXInput.value = parseFloat(posXInput.value) + dx;
            posYInput.value = parseFloat(posYInput.value) + dy;

            startX = pos.x;
            startY = pos.y;
            drawCanvas();
        };

        const stopDrag = () => {
            isDragging = false;
        };

        const getPos = (e) => {
            const rect = canvas.getBoundingClientRect();
            const clientX = e.touches ? e.touches[0].clientX : e.clientX;
            const clientY = e.touches ? e.touches[0].clientY : e.clientY;
            return {
                x: clientX - rect.left,
                y: clientY - rect.top
            };
        };

        container.addEventListener('mousedown', startDrag);
        window.addEventListener('mousemove', moveDrag);
        window.addEventListener('mouseup', stopDrag);

        container.addEventListener('touchstart', startDrag);
        window.addEventListener('touchmove', moveDrag);
        window.addEventListener('touchend', stopDrag);

        upload.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    userImg.onload = () => {
                        isUserImageLoaded = true;
                        controlsPanel.classList.remove('hidden-controls');
                        downloadBtn.classList.remove('hidden-controls');
                        downloadBtn.classList.add('flex');
                        placeholder.classList.add('hidden');
                        
                        const scaleX = canvas.width / userImg.width;
                        const scaleY = canvas.height / userImg.height;
                        baseFitScale = Math.max(scaleX, scaleY);
                        
                        zoomInput.value = 1;
                        posXInput.value = 0;
                        posYInput.value = 0;
                        
                        drawCanvas();

                        // Show Warning
                        const ua = navigator.userAgent || navigator.vendor || window.opera;
                        if (ua.indexOf("FBAN") > -1 || ua.indexOf("FBAV") > -1) {
                            customAlert.style.display = 'flex';
                        }
                    };
                    userImg.src = event.target.result;
                };
                reader.readAsDataURL(file);
            }
        });

        function drawCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "white";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const userZoom = parseFloat(zoomInput.value);
            zoomPercent.innerText = toBengaliNumber(Math.round(userZoom * 100)) + '%';

            if (isUserImageLoaded && userImg.complete) {
                const finalScale = baseFitScale * userZoom;
                const x = parseFloat(posXInput.value) + (canvas.width / 2);
                const y = parseFloat(posYInput.value) + (canvas.height / 2);
                const imgWidth = userImg.width * finalScale;
                const imgHeight = userImg.height * finalScale;
                ctx.save();
                ctx.drawImage(userImg, x - imgWidth / 2, y - imgHeight / 2, imgWidth, imgHeight);
                ctx.restore();
            }

            if (isFrameLoaded && frameImg.complete) {
                ctx.drawImage(frameImg, 0, 0, canvas.width, canvas.height);
            }
        }

        [zoomInput, posXInput, posYInput].forEach(input => {
            input.addEventListener('input', drawCanvas);
        });

        // Advanced Download Method
        downloadBtn.addEventListener('click', () => {
            try {
                const dataUrl = canvas.toDataURL('image/jpeg', 0.95);
                
                // Blob Download Link
                fetch(dataUrl)
                    .then(res => res.blob())
                    .then(blob => {
                        const url = window.URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.style.display = 'none';
                        a.href = url;
                        a.download = 'frame-photo-' + Date.now() + '.jpg';
                        document.body.appendChild(a);
                        a.click();
                        window.URL.revokeObjectURL(url);
                        document.body.removeChild(a);
                    });
            } catch (err) {
                // If download failed
                customAlert.style.display = 'flex';
            }
        });
    </script>
</body>
</html>